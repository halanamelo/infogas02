algoritmo infogas02;
variáveis
    hi  : real; /*hora inicial*/
    ht1 : real; /*hora na primeira parada*/
    ht  : real; /*hora na 2 parada em diante*/

    mi : real; /*minuto inicial*/
    mt1 : real; /*minuto na primeira parada*/
    mt : real; /*minuto parada 2 em diante*/

    qi : real; /*odometro inicial*/
    qt1 : real; /*odometro na primeira parada*/
    qt : real; /*odometro na 2 parada em diante*/

    gi : real; /*gasolina inicial*/
    gt1 : real; /*gasolina na primeira parada*/
    gt : real; /*gasolina parada 2 em diante*/

    dp : real; /*distancia percorrida*/
    hp : real; /*hora percorrida*/
    mp : real; /*minutos percorridos*/
    mh : real; /*minutos transformados em hora*/
    vm : real; /*velocidade media*/
    cc : real; /*consumo de combustivel*/
    dt : real; /*distancia total*/
    t : real; /* capacidade total do tanque*/
    tt : real; /*tempo total do percurso*/
    tp : real; /*soma das horas com os minutos*/
    cc1 : real; /*calculo para consumo de combustivel*/
    prec1 : real; /*calculo da previsao*/
    previsao : real; /*previsao de chegada*/
    parada : real; /*parada do loop*/
    tt1 : real; /*quantidade restante de gasolina no tanque*/
    variacaominuto : real;

fim-variáveis

início


/*Saída*/



         imprima ("Digite a hora de saida:");
         hi:= leia();
         imprima ("Digite os minutos de saida:");
         mi:= leia();
         imprima ("Digite a quilometragem inicial, odômetro:");
         qi:= leia();
         imprima ("Capacidade total em litros do tanque da gasolina:");
         t:=leia();
         imprima ("Digite quantos litros de gasolina foram colocados inicialmente no tanque:");  
         gi:= leia();
         imprima ("Digite a distancia total da viagem:");
         dt:= leia();


/*Primeiro abastecimento : tá dando os calculos certos*/


         imprima ("Digite a hora do seu primeiro abastecimento:");
         ht1:=leia();
         imprima ("Digite os minutos do seu primeiro abastecimento:");
         mt1:=leia();
         imprima ("Quanto marca o seu odometro na primeira parada :");
         qt1:=leia();
         imprima ("Digite a quantidade restante de gasolina no tanque em litros na primeira parada:");
         tt1:=leia();
         imprima ("Digite quantos litros de gasolina foram abastecidos nesta parada:");
         gt1:=leia();
         dp := (qt1-qi);
         hp := (ht1-hi);
         mp := (mt1-mi);
         mh := (mp/60);
         tp := (hp+mh);
         vm := (dp/tp);
         imprima ("A sua velocidade média foi: ", vm, "km/h");
         dp := (qt1-qi);
         cc1 := (gi-tt1);
         cc := (dp/cc1);
         imprima ("O seu consumo combustivel foi de: ", cc, "km/l");
         dp := (qt1-qi);
         hp := (ht1-hi);
         mp := (mt1-mi);
         mh := (mp/60);
         tp := (hp+mh);
         vm := (dp/tp);
         prec1 := (dt-dp);
         previsao   := (prec1/vm);
         imprima ("Previsao de chegada ao seu destino: ", previsao, "horas");



/*Inicio do loop os calculos tão dando errados*/



         imprima ("Essa será sua ultima parada? Se sim digite 1, se não digite 2");
         parada := leia ();
         qi:=qt1;
         gi:=gt1;
         hi:=ht1;
         mi:=mt1;
         t:=tt1;

         enquanto parada = 2 faça

         imprima ("Digite a hora do seu abastecimento:");
         ht1:=leia();
         imprima ("Digite os minutos do seu abastecimento:");
         mt1:=leia();
         imprima ("Quanto marca o seu odometro :");
         qt1:=leia();
         imprima ("Digite a quantidade restante de gasolina no tanque em litros:");
         tt1:=leia();
         imprima ("Digite quantos litros de gasolina foram abastecidos nesta parada:");
         gt1:=leia();
                 
/*Inicio do calculo da velocidade media*/

         variacaominuto:=mt1-mi; 
 
         vm:=(qt1-qi)/((variacaominuto/60)+ht1-hi);



         imprima ("A sua velocidade média foi: ", vm, "km/h");

/*Inicio do calculo do consumo de combustivel*/
             
       
         cc:=(qt1-qi)/((t+gi)-tt1);
         imprima ("O seu consumo combustivel foi de: ", cc, "km/l");

         dp := (qt1-qi);
         hp := (ht1-hi);
         mp := (mt1-mi);
         mh := (mp/60);
         tp := (hp+mh);
         vm := (dp/tp);
          
         prec1 := (dt-qt1);
         previsao   := (prec1/vm);
         imprima ("Previsao de chegada ao seu destino: ", previsao, "horas");
         imprima ("Essa será sua ultima parada? Se sim digite 1, se não digite 2");
         parada := leia(); 
    
     fim-enquanto

/*Após acabado o loop, imprimirá o relatorio final abaixo*/

  imprima ("Relatorio final do percurso");
 
         imprima ("Consumo total do combustivel: ", cc, "km/l");
         cc := (dp/(gi+gt1+gt)-tt1);
         imprima ("Tempo total gasto: ", tt, "horas");
         tt := (hi+ht);
         imprima ("Distancia pecorrida: ", dp, "km");
         dp := (qt1+qt);
         imprima ("Velocidade média total: ", vm, "km/h");
         vm := (qt1-qi)/((variacaominuto/60)+ht1-hi);
fim
